# Android音视频开发从入门到迷途

















### 音视频学习链接

[Android 音视频开发入门指南](https://zhuanlan.zhihu.com/p/28518637)

[Android 音视频学习资源汇总](https://wuzhangyang.com/2018/12/12/android-media-learn-resource/)

[Android 音视频开发学习思路](https://www.cnblogs.com/renhui/p/7452572.html)

[FFMPEG视音频编解码零基础学习方法](https://blog.csdn.net/leixiaohua1020/article/details/15811977)

[【Android 音视频开发打怪升级：OpenGL渲染视频画面篇】二、使用OpenGL渲染视频画面](https://juejin.im/post/6844903984235282445)

[Audio-and-video-learning-materials](https://github.com/979451341/Audio-and-video-learning-materials)

[超百万观众同场看直播秒开不卡顿，快手是如何做到的？|首次披露](https://www.infoq.cn/article/2017/09/streaming-Pipeline-kuaishou)

[雷霄骅(leixiaohua1020)的专栏
一个广院工科生的视音频技术笔记](https://blog.csdn.net/leixiaohua1020)

[lf426的专栏](https://blog.csdn.net/lf426/category_364048_1.html)

[ijkplayer 音视频同步流程分析](https://juejin.im/post/6844903613005824014)

[快手高性能移动端多媒体引擎架构](https://juejin.im/entry/6844903991692754958)

[ndk-stack](https://developer.android.google.cn/ndk/guides/ndk-stack?hl=zh-cn)

[金山视频云](https://github.com/ksvc)

**[Google开源ExoPlayer](https://github.com/google/ExoPlayer)**

**[B站开源播放器ijkplayer](https://github.com/Bilibili/ijkplayer)**

[FFmpeg官网](https://ffmpeg.org/)

[雷霄骅(leixiaohua1020)的专栏](http://blog.csdn.net/leixiaohua1020)

[android mp4parser](https://github.com/sannies/mp4parser)

[青犀TSINGSEE开放平台，专注视频技术](https://github.com/tsingsee)

[Android视频播放软解与硬解的区别](https://blog.csdn.net/u010072711/article/details/52413766)





## 音视频术语

### 视频编码

| 名词     | 解释                                                         | 示例                                                         | 详解 |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 视频编码 | 通过特定的压缩技术,<br />将某种视频合适文件转换成另一种视频格式文件的方式 | 1. 视频传输中最重要的编解码标准有国际电联的H.261、H.263、H264(只有视频编码)<br />2. 运动静止图像专家组的M-JPEG<br />3. 国际标准化组织运动图像专家组的MPEG系列标准<br />4. 被广泛应用的Real-NetWorks和RealVideo、<br />微软公司的WMV和苹果公司的QuickTime |      |
| MPEG     | 包含视频编码和音频编码MPEG4 AAC                              |                                                              |      |
| H26x     | (只有视频编码)                                               |                                                              |      |
### 音频编码
| 名词        | 解释                                                         | 示例                                                         | 详解 |
| ----------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 音频编码    | 常见的音频编码格式有<br />AAC、MP3、AC3                      |                                                              |      |
| AAC         | 音频编码格式,更高效,音质相同文件更小,音质更佳,               | 属于有损压缩,相比时下流行的APE、FLAC等误算压缩格式相比音质上还存在本质的差距 |      |
| Mp3         | 音频压缩技术,将音乐以1:10甚至1:12的压缩率,压缩成容量较小的文件,音质相比之前没有明显下降 | 利用人耳对高频信号不敏感,将时域波形信号转化为频域信号,并划分成多个频段,对不同频段使用不同的压缩率,高频大压缩率,低频小压缩率,保证信号不失真 |      |
| AC3         | Dolby实验室所发展的有损音频编码格式                          | 主要应用于唱片、DVD、电影院,有6个声道,5个频域声道(前、前左、前右、后左、后右)和1个超低声声道(爆炸、撞击等)组成 |      |
|             |                                                              |                                                              |
### 编码方式

| 名词        | 解释                                                         | 示例                                                         | 详解 |
| ----------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 硬编码 | 硬解码就是通过显卡的视bai频加速功能对高清视du频进行解码。因此硬解能够将zhiCPU从繁重的视频解码运算中释放出来，使设备具备流畅播放高清视频的能力。GPU/VPU要比CPU更适合这类大数据量的、低难度的重复工作。视频解码工作从处理器那里分离出来，交给显卡去做，这就叫做“硬解码”。 | 硬解码的优势就在于可以流畅的支持1080p甚至4K清晰度的电影播放，而不需要占用CPU，CPU就可以如释重负，轻松上阵，承担更多的其他任务。如果通过软解码的方式播放高清电影，CPU的负担较重，往往会出现卡顿、不流畅的现象。 |      |
| 软编码 | 纯粹依靠CPU来解码的方式则是“软解码”。软解码是在显卡本身不支持或者部分不支持硬件解码的前提下，将解压高清编码的任务交给CPU，这是基于硬件配置本身达不到硬解压要求的前提下，属于一个折中的无奈之举。 |                                                              |      |
| 硬解码 |                                                              |                                                              |      |
| 软解码 |                                                              |                                                              |      |
|             |                                                              |||

### 多媒体播放组件

| 名词        | 解释                                                         | 示例                                                         | 详解 |
| ----------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| MediaPlayer | Android多媒体啊播放组件                                      |                                                              |      |
| MediaCodec  | Android音视频编解码                                          |                                                              |      |
| OMX         | Android多媒体部分采用的编码标准                              |                                                              |      |
| StageFright | Android froyo版本多媒体引擎做了变动，新添加了stagefright框架，并且默认情况android选择stagefright，并没有完全抛弃opencore，主要是做了一个OMX层，仅仅是对 opencore的omx-component部分做了引用。stagefright是在MediaPlayerService这一层加入的，和opencore是并列的。Stagefright在 Android中是以shared library的形式存在(libstagefright.so)，其中的module -- AwesomePlayer可用来播放video/audio。 AwesomePlayer提供许多API，可以让上层的应用程序(Java/JNI)来调用。 |                                                              |      |
| AudiTrack   | 音频播放                                                     |                                                              |      |
|             |                                                              |                                                              |      |
### 多媒体框架
| 名词      | 解释                               | 示例 | 详解 |
| --------- | ---------------------------------- | ---- | ---- |
| VLC       | 开源的跨平台多媒体播放器及框架     |      |      |
| FFmpeg    | 多媒体结局方案,广泛用于音视频开发  |      |      |
| GStreamer | 一套构建流媒体应用的开源多媒体框架 |      |      |
|           |                                    |      |      |

### 名词术语概念
| 名词             | 解释                                                         | 示例                                                         | 详解 |
| ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 帧率(Frame Rate) | 用来测量显示帧数的度量.测量单位为美秒显示帧数(frames prt second,简称FPS)或赫兹(HZ) | 图形处理器每秒能够更新的次数,高频率可以得到更流畅更逼真的动画,通常达到60fps就可以达到很好的交互感和逼真感,超过75fps则不容易察觉,帧数超过屏幕的刷新率,则会造成浪费,监视器不能以这样的速度进行更新 |      |
| 分辨率           | 视频成像产品所形成的图像大小或尺寸                           |                                                              |      |
| 刷新率           | 刷新率是指屏幕每秒画面被刷新的次数,刷新率分为垂直刷新率和水平刷新率,一般刷新率指**垂直刷新率** |                                                              |      |
| 编码格式         | 编码目的是压缩数据量,采用编码算法压缩冗余                    | 常用的<br />- MPEG(MPEG-4)<br />- H.26x(H.263、H.264/AVC H.265/HEVC)<br />AVC:高级视频编码<br />HEVC:一种新的压缩标准 |      |
| 封装格式         | 将编码后的音视频数据以一定的格式封装到一个容器               | 封装格式有MKV、AVI、TS                                       |      |
| 码率             | 也就是比特率,单位时间播放的连续的媒体的比特数量              | 比特率越高,宽带消耗越多 bytes/s  <br />文件大小(b) = 码率(b/s)*时长s |      |
| 画质与码率       | 码率越大,画质越好,视频越流畅吗?                              | 实际上视频质量和码率、编码算法都有关系                       |      |
| DTS与PTS         | DTS:读入内存中的比特流什么时候开始送入解码器解码<br />PTS:解码后的视频帧什么时候被显示出来 |                                                              |      |
| YUV与RGB         | 颜色空间模型                                                 | YUV:Y亮度、UV代表色差,U和V是否成颜色的两个分量<br />RGB:红黄蓝叠加来显示各种各样的颜色 |      |
| 视频帧           | 常见的视频帧有I、B、P帧等                                    | I帧:关键帧,可以理解为完整画面<br />P帧:这一帧和之前关键帧(或P帧)之间的差别<br />B帧:本帧与之前之后的差别(压缩效率高,但解码时CPU会吃力) |      |
| 音频帧           | 音频帧和编码格式相关,它是各个编码标准自己实现的              | PCM:不需要帧的概念,根据采样率和采样精度就可以播放<br />AMR帧:简单规定每20ms音频时一帧,每一帧音频都是独立的,有可能采用不同的编码算法以及不同的编码参数<br />MP3帧:复杂包含了更多信息,音频数据帧个数由文件大小和帧长巨鼎,每一帧的长度可能不固定,也可能固定由比特率决定,每一帧分为帧头和数据实体两个部分,每一帧之间相互独立 |      |
| 量化精度         | 将模拟信号分成多少个等级,量化精度越高,音乐的声压振幅越接近原音乐 | 量化精度的单位是bit(比特)                                    |      |
| 采样率           | 每秒音频采样点个数                                           | 8000/44100HZ,采样率单位用HZ(赫兹)标识                        |      |
| 声道             | 声道数也就是声音录制时音源数量,或者回放时相应的扬声器数量    | 常见声道有单声道、立体声道、4声道、5.1声道、7.1声道          |      |
| GOP              | GOP 指的就是两个I帧之间的间隔. 比较说GOP为120,如果是720 p60 的话,那就是2s一次I帧 |                                                              |      |
| 丢帧             | 由于视频帧堆积主动抛弃的帧                                   |                                                              |      |
| 网络抖动         | 抖动率由相邻数据包延迟时间差除以数据包序号差得到             |                                                              |      |
| RTT              | 端到云服务器的一次网络往返时间                               |                                                              |      |
| SEI帧            | 属于码流范畴，它提供了向视频码流中加入额外信息的方法，是H.264/H.265这些视频压缩标准的特性之一 |                                                              |      |


